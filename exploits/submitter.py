import requests
import time


url = "http://127.0.0.1:8080/api/flagSubmit"
token = "934310005a1447b8bd52d9dcbd5c405a"
max_submit = 20
rate_limit = 5


def make_req(token, flags):
    return requests.post(url, json={"token": token, "flags": flags})


def submit(flags):
    flags = list(flags)
    if len(flags) > max_submit:
        flags = [flags[i:i+max_submit] for i in range(0, len(flags), 20)]
        for sub_flags in flags:
            print(sub_flags)
            r = make_req(token, sub_flags)
            print(r.text)
            time.sleep(rate_limit)
    else:
        print(flags)
        r = make_req(token, flags)
        print(r.text)
